 package graduate;
 
 import java.io.IOException;
 import java.io.PrintWriter;
 import java.sql.Date;
 import java.util.ArrayList;

 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 import javax.servlet.http.HttpSession;

 import org.springframework.stereotype.Controller;
 import org.springframework.ui.Model;
 import org.springframework.web.bind.annotation.RequestMapping;
 import org.springframework.web.bind.annotation.RequestMethod;

 @Controller

public class TeamApplyController {
	 final static String html=   "<head><link href='./static/css/bootstrap.min.css' rel='stylesheet'>"+ 
				"<link href='./static/css/font-awesome.min.css' rel='stylesheet'>"+ 
				"<link href='./static/css/font-face.css' rel='stylesheet'>"+ 
				"<meta charset='utf-8' />"+ 
				"<script type='text/javascript' src='./static/js/jquery-1.11.2.min.js'></script> "+   
				"<script src='./static/js/bootstrap.min.js'></script>"+  
				"<script src='./static/js/bootbox.min.js'></script></head>";
	 
	 //去球队报名页面
	 @RequestMapping(value = "/toTeamApply", method = RequestMethod.GET)
	 public String toTeamApply(HttpSession session,Model model) {
		 String teamName = (String)session.getAttribute("userName");
		 GameManageDao manage = new GameManageDao();
		 if(teamName!=null) {
			 String teamType = manage.getTeamType(teamName);
			 ArrayList gameCanApply = manage.getApplyGame(teamType);
			 ArrayList gameApplayed = manage.getApplyed(teamName);
			 ArrayList gameReject = manage.getApplyRejected(teamName);
			 model.setAttribute("gameCanApply",gameCanApply);
			 model.setAttribute("gameApplayed",gameApplayed);
			 model.setAttribute("gameReject",gameReject);
			 model.setAttribute("teamName",teamName);
			 return "TeamApply";
		 }
		 else {
			 return "LoginFirst";
		 }
	 }
	 
	 //ajax验证选中的比赛是否可以报名并进行提示
	 
	 //报名提交的后台处理
}
